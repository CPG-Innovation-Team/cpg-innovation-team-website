<template>
  <div :style="cssProps">
    <v-app-bar class="nav-container" app flat hide-on-scroll>
      <v-app-bar-nav-icon class="hidden-md-and-up" @click.stop="drawer = true"></v-app-bar-nav-icon>

      <!-- <v-spacer class="hidden-sm-and-down"></v-spacer> -->

      <router-link to="/">
        <svg
          v-if="!color"
          class="ml-8"
          width="136"
          height="34"
          viewBox="0 0 106 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0)">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M23.9909 0V24H0V0H23.9909ZM21.4919 2.5H2.49905V21.5H21.4919V2.5Z"
              fill="white"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.9954 2.48267C17.2497 2.48267 21.5091 6.74368 21.5091 11.9999C21.5091 17.2561 17.2497 21.5171 11.9954 21.5171C6.74121 21.5171 2.48181 17.2561 2.48181 11.9999C2.48181 6.74368 6.74121 2.48267 11.9954 2.48267ZM11.9954 5.48811C8.40044 5.48811 5.48612 8.40354 5.48612 11.9999C5.48612 15.5963 8.40044 18.5117 11.9954 18.5117C15.5904 18.5117 18.5048 15.5963 18.5048 11.9999C18.5048 8.40354 15.5904 5.48811 11.9954 5.48811Z"
              fill="white"
            />
            <path
              d="M41.9952 12.7396V11.1945H37.1313V7.72125H40.9337V6.18934H37.1313V3.28398H41.6324V1.75207H30.2521V3.28398H35.4384V11.1945H33.1005V5.33094H31.4345V11.1945H29.7819V12.7396H41.9952ZM44.333 13.2018C47.1815 11.8548 48.6325 9.79462 49.3581 7.58919C50.4061 10.138 51.9647 12.0661 54.3966 13.1886C54.6519 12.7396 55.1759 12.0397 55.579 11.7095C53.0664 10.7058 51.4407 8.63248 50.5539 6.05728H55.2834V4.43292H50.003C50.1374 3.20475 50.1508 1.98978 50.1642 0.906874H48.4176C48.4041 1.98978 48.4176 3.19154 48.2832 4.43292H43.3925V6.05728H48.0145C47.4905 8.32874 46.2141 10.521 43.1372 11.868C43.6075 12.1981 44.0777 12.766 44.333 13.2018ZM59.7844 8.61927V8.26271H68.4506V7.07415H64.0302V6.49308H67.537V5.47621H64.0302V4.94796H67.5235V3.93108H64.0302V3.37643H68.1282V2.17467H64.3526C64.2049 1.75207 63.9496 1.23703 63.7077 0.827637L62.2701 1.22382C62.4179 1.51436 62.5657 1.84451 62.6866 2.17467H60.51C60.7384 1.84451 60.9533 1.51436 61.1549 1.1842L59.5291 0.880461C58.9245 2.01619 57.8362 3.37643 56.3448 4.41971C56.7076 4.61781 57.2181 5.11964 57.4734 5.44979C57.7153 5.2517 57.9571 5.05361 58.199 4.84231V8.61927H59.7844ZM62.4985 3.93108H59.7844V3.37643H62.4985V3.93108ZM62.4985 5.47621H59.7844V4.94796H62.4985V5.47621ZM62.4985 7.07415H59.7844V6.49308H62.4985V7.07415ZM63.5196 13.2018V10.9039C64.8498 11.8416 66.5561 12.6339 68.1282 13.0697C68.3297 12.7 68.7865 12.1189 69.1224 11.8152C67.7116 11.5114 66.1799 10.97 64.9841 10.3097H68.7865V9.05508H63.5196V8.38156H61.9342V9.05508H56.7076V10.3097H60.5637C59.3142 10.97 57.7287 11.5378 56.2642 11.8416C56.6001 12.1717 57.0569 12.7528 57.2988 13.1358C58.8708 12.7 60.604 11.9076 61.9342 10.97V13.2018H63.5196ZM72.1186 13.2414V12.7792H80.1668V13.2414H81.9V1.3955H70.466V13.2414H72.1186ZM80.1668 11.3662H72.1186V2.83497H80.1668V11.3662ZM77.493 10.7058C77.9633 10.4681 78.0708 10.1116 78.0708 9.39844V6.04407H79.6831V4.65742H78.0708V3.23116H76.5391V4.65742H72.6964V6.04407H75.921C74.8999 7.24583 73.5563 8.2495 72.3471 8.8834C72.6964 9.16072 73.1398 9.64935 73.3413 9.93989C74.3759 9.39844 75.5448 8.57965 76.5391 7.6024V9.38523C76.5391 9.5437 76.4853 9.58332 76.3107 9.58332C76.136 9.59653 75.612 9.59653 75.1149 9.57012C75.3164 9.95309 75.5583 10.5606 75.6254 10.97C76.445 10.97 77.0496 10.9436 77.493 10.7058Z"
              fill="white"
            />
            <path
              d="M33.2442 22.3448C33.5721 22.3448 33.8679 22.3189 34.1315 22.2671C34.3951 22.2153 34.6378 22.1391 34.8596 22.0385C35.0814 21.9379 35.2856 21.8175 35.472 21.6773C35.6585 21.537 35.8385 21.3785 36.0121 21.2017L35.067 20.2964C34.8034 20.5281 34.5381 20.711 34.2713 20.8451C34.0045 20.9792 33.6782 21.0463 33.2924 21.0463C33.0031 21.0463 32.7379 20.9929 32.4967 20.8862C32.2556 20.7796 32.0499 20.6348 31.8795 20.4519C31.7091 20.269 31.5757 20.0556 31.4793 19.8118C31.3828 19.5679 31.3346 19.3088 31.3346 19.0345V19.0162C31.3346 18.7418 31.3828 18.4843 31.4793 18.2435C31.5757 18.0027 31.7107 17.7908 31.8843 17.6079C32.0579 17.425 32.2653 17.2818 32.5064 17.1781C32.7475 17.0745 33.0095 17.0227 33.2924 17.0227C33.6332 17.0227 33.9402 17.0867 34.2134 17.2147C34.4867 17.3427 34.7551 17.5195 35.0188 17.7451L35.9639 16.7117C35.8096 16.5654 35.6424 16.4313 35.4624 16.3094C35.2824 16.1874 35.0863 16.0838 34.8741 15.9985C34.6619 15.9131 34.4256 15.846 34.1652 15.7973C33.9048 15.7485 33.6171 15.7241 33.3021 15.7241C32.7813 15.7241 32.3055 15.811 31.8747 15.9847C31.4439 16.1585 31.0742 16.3962 30.7656 16.698C30.457 16.9998 30.2159 17.3503 30.0423 17.7496C29.8687 18.149 29.7819 18.5772 29.7819 19.0345V19.0528C29.7819 19.51 29.8687 19.9398 30.0423 20.3421C30.2159 20.7445 30.457 21.0935 30.7656 21.3892C31.0742 21.6849 31.4407 21.9181 31.865 22.0888C32.2894 22.2595 32.7491 22.3448 33.2442 22.3448ZM38.6836 22.2351V20.3147H39.812C40.1914 20.3147 40.5466 20.2675 40.8777 20.173C41.2088 20.0785 41.4982 19.9367 41.7457 19.7477C41.9932 19.5588 42.1877 19.324 42.3292 19.0436C42.4706 18.7632 42.5414 18.437 42.5414 18.0651V18.0468C42.5414 17.7176 42.4819 17.4174 42.3629 17.1461C42.244 16.8748 42.0736 16.6416 41.8518 16.4465C41.63 16.2515 41.3599 16.1006 41.0417 15.9939C40.7234 15.8872 40.3617 15.8339 39.9567 15.8339H37.1984V22.2351H38.6836ZM39.8602 19.0619H38.6836V17.105H39.8313C40.2042 17.105 40.4984 17.1873 40.7138 17.3519C40.9291 17.5165 41.0368 17.7573 41.0368 18.0743V18.0926C41.0368 18.3669 40.934 18.597 40.7282 18.783C40.5225 18.9689 40.2331 19.0619 39.8602 19.0619ZM49.7843 22.3448C50.4015 22.3448 50.9496 22.2457 51.4286 22.0476C51.9077 21.8495 52.3208 21.6102 52.668 21.3298V18.5498H49.7361V19.766H51.2309V20.6805C50.8516 20.9365 50.3855 21.0646 49.8325 21.0646C49.5303 21.0646 49.2555 21.0143 49.0079 20.9137C48.7604 20.8131 48.545 20.6713 48.3617 20.4885C48.1785 20.3056 48.037 20.0907 47.9374 19.8438C47.8377 19.5969 47.7879 19.3271 47.7879 19.0345V19.0162C47.7879 18.7418 47.8377 18.4843 47.9374 18.2435C48.037 18.0027 48.1753 17.7923 48.3521 17.6125C48.5289 17.4326 48.7347 17.2894 48.9693 17.1827C49.204 17.076 49.4564 17.0227 49.7264 17.0227C49.9193 17.0227 50.0961 17.0379 50.2569 17.0684C50.4176 17.0989 50.5671 17.1415 50.7053 17.1964C50.8436 17.2513 50.977 17.3183 51.1056 17.3976C51.2342 17.4768 51.3627 17.5683 51.4913 17.6719L52.4268 16.602C52.2532 16.4618 52.0732 16.3368 51.8868 16.2271C51.7003 16.1173 51.501 16.0259 51.2888 15.9527C51.0766 15.8796 50.8468 15.8232 50.5992 15.7836C50.3517 15.7439 50.0768 15.7241 49.7746 15.7241C49.2603 15.7241 48.7877 15.811 48.3569 15.9847C47.9261 16.1585 47.5532 16.3962 47.2382 16.698C46.9231 16.9998 46.6772 17.3503 46.5004 17.7496C46.3236 18.149 46.2352 18.5772 46.2352 19.0345V19.0528C46.2352 19.5283 46.322 19.9672 46.4956 20.3696C46.6692 20.7719 46.9119 21.1194 47.2237 21.4121C47.5355 21.7047 47.9085 21.9333 48.3425 22.0979C48.7765 22.2625 49.2571 22.3448 49.7843 22.3448ZM55.5806 22.2351V20.1867H56.7475L58.1942 22.2351H59.9302L58.281 19.9489C58.7118 19.7965 59.0606 19.5572 59.3274 19.2311C59.5942 18.9049 59.7276 18.4827 59.7276 17.9645V17.9463C59.7276 17.3366 59.5347 16.8489 59.149 16.4831C58.6925 16.0503 58.0367 15.8339 57.1815 15.8339H54.0953V22.2351H55.5806ZM57.0851 18.943H55.5806V17.105H57.0561C57.4226 17.105 57.7087 17.1812 57.9145 17.3336C58.1202 17.486 58.2231 17.7146 58.2231 18.0194V18.0377C58.2231 18.312 58.1251 18.5315 57.929 18.6961C57.7329 18.8607 57.4516 18.943 57.0851 18.943ZM64.3473 22.3448C64.8681 22.3448 65.3487 22.2579 65.7891 22.0842C66.2295 21.9104 66.6089 21.6727 66.9272 21.3709C67.2454 21.0691 67.4946 20.7186 67.6746 20.3193C67.8546 19.92 67.9446 19.4917 67.9446 19.0345V19.0162C67.9446 18.5589 67.8562 18.1307 67.6794 17.7314C67.5026 17.332 67.2551 16.9846 66.9368 16.6889C66.6185 16.3932 66.2408 16.1585 65.8036 15.9847C65.3664 15.811 64.8874 15.7241 64.3666 15.7241C63.8458 15.7241 63.3652 15.811 62.9247 15.9847C62.4843 16.1585 62.105 16.3962 61.7867 16.698C61.4684 16.9998 61.2193 17.3503 61.0393 17.7496C60.8592 18.149 60.7692 18.5772 60.7692 19.0345V19.0528C60.7692 19.51 60.8576 19.9383 61.0344 20.3376C61.2113 20.7369 61.4588 21.0844 61.7771 21.3801C62.0953 21.6757 62.4731 21.9104 62.9103 22.0842C63.3475 22.2579 63.8265 22.3448 64.3473 22.3448ZM64.3666 21.0463C64.0644 21.0463 63.7895 20.9929 63.542 20.8862C63.2944 20.7796 63.079 20.6348 62.8958 20.4519C62.7126 20.269 62.5711 20.0556 62.4715 19.8118C62.3718 19.5679 62.322 19.3088 62.322 19.0345V19.0162C62.322 18.7418 62.3718 18.4843 62.4715 18.2435C62.5711 18.0027 62.7093 17.7908 62.8862 17.6079C63.063 17.425 63.2752 17.2818 63.5227 17.1781C63.7702 17.0745 64.0451 17.0227 64.3473 17.0227C64.6431 17.0227 64.9163 17.076 65.1671 17.1827C65.4178 17.2894 65.6348 17.4342 65.8181 17.6171C66.0013 17.7999 66.1427 18.0133 66.2424 18.2572C66.3421 18.501 66.3919 18.7601 66.3919 19.0345V19.0528C66.3919 19.3271 66.3421 19.5847 66.2424 19.8255C66.1427 20.0663 66.0045 20.2781 65.8277 20.461C65.6509 20.6439 65.4371 20.7872 65.1863 20.8908C64.9356 20.9945 64.6623 21.0463 64.3666 21.0463ZM72.0821 22.3357C72.5321 22.3357 72.9404 22.2762 73.3069 22.1573C73.6734 22.0385 73.9852 21.8586 74.2424 21.6178C74.4996 21.377 74.6973 21.0768 74.8355 20.7171C74.9738 20.3574 75.0429 19.9337 75.0429 19.446V15.8339H73.5577V19.5008C73.5577 20.0129 73.4291 20.397 73.1719 20.6531C72.9147 20.9091 72.5579 21.0371 72.1014 21.0371C71.6449 21.0371 71.288 20.9045 71.0308 20.6393C70.7737 20.3741 70.6451 19.9794 70.6451 19.4551V15.8339H69.1598V19.4917C69.1598 20.4366 69.4202 21.1469 69.941 21.6224C70.4618 22.0979 71.1755 22.3357 72.0821 22.3357ZM78.0423 22.2351V20.3147H79.1707C79.55 20.3147 79.9053 20.2675 80.2364 20.173C80.5675 20.0785 80.8568 19.9367 81.1044 19.7477C81.3519 19.5588 81.5464 19.324 81.6879 19.0436C81.8293 18.7632 81.9 18.437 81.9 18.0651V18.0468C81.9 17.7176 81.8406 17.4174 81.7216 17.1461C81.6027 16.8748 81.4323 16.6416 81.2105 16.4465C80.9886 16.2515 80.7186 16.1006 80.4003 15.9939C80.0821 15.8872 79.7204 15.8339 79.3153 15.8339H76.5571V22.2351H78.0423ZM79.2189 19.0619H78.0423V17.105H79.19C79.5629 17.105 79.857 17.1873 80.0724 17.3519C80.2878 17.5165 80.3955 17.7573 80.3955 18.0743V18.0926C80.3955 18.3669 80.2926 18.597 80.0869 18.783C79.8812 18.9689 79.5918 19.0619 79.2189 19.0619Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0">
              <rect width="81.9" height="24" fill="white" />
            </clipPath>
          </defs>
        </svg>

        <svg
          v-else
          class="ml-8"
          width="136"
          height="34"
          viewBox="0 0 320 73"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0)">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M72.9692 0V72.9969H0V0H72.9692ZM65.3683 7.60384H7.60096V65.393H65.3683V7.60384Z"
              fill="#141414"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M36.4846 7.55141C52.4655 7.55141 65.4207 20.5114 65.4207 36.4984C65.4207 52.4854 52.4655 65.4455 36.4846 65.4455C20.5037 65.4455 7.54854 52.4854 7.54854 36.4984C7.54854 20.5114 20.5037 7.55141 36.4846 7.55141ZM36.4846 16.6926C25.5503 16.6926 16.6862 25.56 16.6862 36.4984C16.6862 47.4369 25.5503 56.3043 36.4846 56.3043C47.4189 56.3043 56.283 47.4369 56.283 36.4984C56.283 25.56 47.4189 16.6926 36.4846 16.6926Z"
              fill="#141414"
            />
            <path
              d="M127.73 38.7478V34.0482H112.936V23.4843H124.501V18.8249H112.936V9.9882H126.626V5.32883H92.0128V9.9882H107.787V34.0482H100.676V16.2141H95.609V34.0482H90.5825V38.7478H127.73ZM134.84 40.1536C143.504 36.0566 147.918 29.7905 150.124 23.0826C153.312 30.8349 158.052 36.6993 165.449 40.1135C166.226 38.7478 167.819 36.6189 169.045 35.6148C161.403 32.5621 156.459 26.2558 153.761 18.4233H168.146V13.4827H152.086C152.495 9.7472 152.535 6.05183 152.576 2.75814H147.264C147.223 6.05183 147.264 9.70703 146.855 13.4827H131.98V18.4233H146.038C144.444 25.332 140.562 31.9997 131.203 36.0968C132.634 37.1009 134.064 38.8281 134.84 40.1536ZM181.836 26.2157V25.1312H208.195V21.5161H194.75V19.7488H205.416V16.6559H194.75V15.0492H205.375V11.9564H194.75V10.2694H207.214V6.61417H195.731C195.281 5.32883 194.505 3.76231 193.769 2.51714L189.397 3.72215C189.846 4.60582 190.296 5.61 190.663 6.61417H184.043C184.738 5.61 185.392 4.60582 186.005 3.60165L181.06 2.6778C179.221 6.13217 175.911 10.2694 171.375 13.4426C172.478 14.0451 174.031 15.5714 174.807 16.5756C175.543 15.9731 176.279 15.3706 177.014 14.7279V26.2157H181.836ZM190.091 11.9564H181.836V10.2694H190.091V11.9564ZM190.091 16.6559H181.836V15.0492H190.091V16.6559ZM190.091 21.5161H181.836V19.7488H190.091V21.5161ZM193.197 40.1536V33.1646C197.243 36.0164 202.433 38.4264 207.214 39.752C207.827 38.6273 209.217 36.8599 210.238 35.9361C205.947 35.0123 201.289 33.3654 197.651 31.3571H209.217V27.5412H193.197V25.4927H188.375V27.5412H172.478V31.3571H184.207C180.406 33.3654 175.584 35.0926 171.129 36.0164C172.151 37.0206 173.541 38.788 174.276 39.9528C179.057 38.6273 184.329 36.2173 188.375 33.3654V40.1536H193.197ZM219.351 40.2741V38.8683H243.83V40.2741H249.102V4.24432H214.325V40.2741H219.351ZM243.83 34.5704H219.351V8.62252H243.83V34.5704ZM235.698 32.5621C237.128 31.8391 237.455 30.7545 237.455 28.5855V18.3831H242.359V14.1656H237.455V9.82753H232.796V14.1656H221.109V18.3831H230.916C227.811 22.0383 223.724 25.091 220.046 27.019C221.109 27.8625 222.457 29.3487 223.07 30.2324C226.217 28.5855 229.772 26.0952 232.796 23.1228V28.5454C232.796 29.0274 232.633 29.1479 232.102 29.1479C231.57 29.188 229.977 29.188 228.464 29.1077C229.077 30.2725 229.813 32.1202 230.017 33.3654C232.51 33.3654 234.349 33.2851 235.698 32.5621Z"
              fill="#141414"
            />
            <path
              d="M101.113 67.9626C102.111 67.9626 103.01 67.8838 103.812 67.7262C104.614 67.5686 105.352 67.3368 106.027 67.0308C106.701 66.7249 107.322 66.3587 107.889 65.9322C108.456 65.5057 109.004 65.0236 109.532 64.4859L106.657 61.7323C105.856 62.437 105.049 62.9932 104.237 63.4012C103.426 63.8091 102.433 64.0131 101.26 64.0131C100.38 64.0131 99.5733 63.8508 98.8399 63.5263C98.1066 63.2018 97.4808 62.7614 96.9626 62.2052C96.4443 61.6489 96.0386 60.9999 95.7452 60.2582C95.4519 59.5165 95.3052 58.7285 95.3052 57.8941V57.8384C95.3052 57.004 95.4519 56.2206 95.7452 55.4882C96.0386 54.7558 96.4492 54.1114 96.9772 53.5551C97.5052 52.9989 98.1359 52.5631 98.8693 52.2479C99.6026 51.9327 100.399 51.7751 101.26 51.7751C102.296 51.7751 103.23 51.9698 104.061 52.3592C104.892 52.7485 105.709 53.2863 106.511 53.9723L109.385 50.8294C108.916 50.3844 108.408 49.9765 107.86 49.6056C107.312 49.2348 106.716 48.9195 106.071 48.6599C105.425 48.4003 104.707 48.1964 103.915 48.048C103.123 47.8997 102.248 47.8255 101.289 47.8255C99.7053 47.8255 98.2581 48.0898 96.9479 48.6182C95.6377 49.1467 94.5132 49.8698 93.5745 50.7877C92.6358 51.7055 91.9025 52.7717 91.3745 53.9862C90.8465 55.2008 90.5825 56.5034 90.5825 57.8941V57.9497C90.5825 59.3404 90.8465 60.6476 91.3745 61.8714C91.9025 63.0952 92.6358 64.1568 93.5745 65.0561C94.5132 65.9554 95.6279 66.6646 96.9186 67.1838C98.2093 67.703 99.6075 67.9626 101.113 67.9626ZM117.657 67.6288V61.788H121.09C122.243 61.788 123.324 61.6443 124.331 61.3569C125.338 61.0695 126.218 60.6383 126.971 60.0635C127.724 59.4887 128.315 58.7748 128.746 57.9219C129.176 57.0689 129.391 56.0769 129.391 54.9458V54.8902C129.391 53.8889 129.21 52.9757 128.848 52.1505C128.487 51.3254 127.968 50.6162 127.294 50.0228C126.619 49.4295 125.798 48.9705 124.83 48.646C123.862 48.3215 122.762 48.1593 121.53 48.1593H113.14V67.6288H117.657ZM121.236 57.9775H117.657V52.0254H121.148C122.282 52.0254 123.177 52.2757 123.832 52.7764C124.487 53.277 124.815 54.0094 124.815 54.9736V55.0293C124.815 55.8637 124.502 56.5636 123.876 57.1292C123.25 57.6947 122.37 57.9775 121.236 57.9775ZM151.421 67.9626C153.298 67.9626 154.965 67.6613 156.422 67.0587C157.879 66.456 159.135 65.7282 160.191 64.8753V56.4199H151.274V60.1192H155.821V62.9005C154.667 63.6793 153.249 64.0687 151.567 64.0687C150.648 64.0687 149.812 63.9157 149.059 63.6098C148.306 63.3038 147.651 62.8727 147.094 62.3164C146.537 61.7602 146.106 61.1065 145.803 60.3556C145.5 59.6046 145.349 58.7841 145.349 57.8941V57.8384C145.349 57.004 145.5 56.2206 145.803 55.4882C146.106 54.7558 146.527 54.116 147.065 53.569C147.602 53.022 148.228 52.5863 148.942 52.2618C149.656 51.9373 150.423 51.7751 151.245 51.7751C151.831 51.7751 152.369 51.8214 152.858 51.9141C153.347 52.0068 153.802 52.1366 154.222 52.3035C154.642 52.4704 155.048 52.6744 155.439 52.9154C155.83 53.1565 156.222 53.4346 156.613 53.7498L159.458 50.4956C158.93 50.0692 158.382 49.689 157.815 49.3553C157.248 49.0215 156.642 48.7434 155.997 48.5209C155.351 48.2984 154.652 48.1268 153.899 48.0063C153.146 47.8858 152.31 47.8255 151.391 47.8255C149.827 47.8255 148.389 48.0898 147.079 48.6182C145.769 49.1467 144.635 49.8698 143.676 50.7877C142.718 51.7055 141.97 52.7717 141.432 53.9862C140.895 55.2008 140.626 56.5034 140.626 57.8941V57.9497C140.626 59.396 140.89 60.7311 141.418 61.9549C141.946 63.1787 142.684 64.2356 143.632 65.1256C144.581 66.0156 145.715 66.711 147.035 67.2116C148.355 67.7123 149.817 67.9626 151.421 67.9626ZM169.05 67.6288V61.3986H172.6L177 67.6288H182.28L177.264 60.6754C178.574 60.2119 179.635 59.4841 180.446 58.4921C181.258 57.5 181.664 56.216 181.664 54.6399V54.5842C181.664 52.73 181.077 51.2466 179.904 50.1341C178.515 48.8176 176.52 48.1593 173.92 48.1593H164.533V67.6288H169.05ZM173.626 57.6159H169.05V52.0254H173.538C174.653 52.0254 175.523 52.2572 176.149 52.7207C176.775 53.1843 177.088 53.8796 177.088 54.8068V54.8624C177.088 55.6968 176.789 56.3643 176.193 56.865C175.596 57.3656 174.741 57.6159 173.626 57.6159ZM195.714 67.9626C197.299 67.9626 198.76 67.6984 200.1 67.1699C201.439 66.6415 202.593 65.9183 203.561 65.0004C204.529 64.0826 205.287 63.0164 205.835 61.8019C206.382 60.5874 206.656 59.2847 206.656 57.8941V57.8384C206.656 56.4478 206.387 55.1452 205.849 53.9306C205.311 52.7161 204.559 51.6592 203.591 50.7599C202.623 49.8606 201.474 49.1467 200.144 48.6182C198.814 48.0898 197.357 47.8255 195.773 47.8255C194.189 47.8255 192.727 48.0898 191.388 48.6182C190.048 49.1467 188.894 49.8698 187.926 50.7877C186.958 51.7055 186.201 52.7717 185.653 53.9862C185.105 55.2008 184.832 56.5034 184.832 57.8941V57.9497C184.832 59.3404 185.101 60.643 185.638 61.8575C186.176 63.072 186.929 64.129 187.897 65.0283C188.865 65.9276 190.014 66.6415 191.344 67.1699C192.674 67.6984 194.13 67.9626 195.714 67.9626ZM195.773 64.0131C194.854 64.0131 194.018 63.8508 193.265 63.5263C192.512 63.2018 191.857 62.7614 191.3 62.2052C190.742 61.6489 190.312 60.9999 190.009 60.2582C189.706 59.5165 189.554 58.7285 189.554 57.8941V57.8384C189.554 57.004 189.706 56.2206 190.009 55.4882C190.312 54.7558 190.733 54.1114 191.27 53.5551C191.808 52.9989 192.454 52.5631 193.206 52.2479C193.959 51.9327 194.795 51.7751 195.714 51.7751C196.614 51.7751 197.445 51.9373 198.208 52.2618C198.971 52.5863 199.631 53.0267 200.188 53.583C200.745 54.1392 201.175 54.7882 201.479 55.5299C201.782 56.2716 201.933 57.0597 201.933 57.8941V57.9497C201.933 58.7841 201.782 59.5675 201.479 60.2999C201.175 61.0324 200.755 61.6767 200.217 62.233C199.679 62.7893 199.029 63.225 198.266 63.5402C197.504 63.8554 196.673 64.0131 195.773 64.0131ZM219.24 67.9348C220.609 67.9348 221.851 67.754 222.965 67.3924C224.08 67.0308 225.029 66.4838 225.811 65.7514C226.593 65.019 227.194 64.1058 227.615 63.0118C228.035 61.9178 228.246 60.6291 228.246 59.1457V48.1593H223.728V59.3126C223.728 60.8701 223.337 62.0383 222.555 62.8171C221.773 63.5959 220.687 63.9852 219.299 63.9852C217.91 63.9852 216.825 63.582 216.043 62.7754C215.26 61.9688 214.869 60.7681 214.869 59.1735V48.1593H210.352V59.2847C210.352 62.1588 211.144 64.319 212.728 65.7653C214.312 67.2116 216.483 67.9348 219.24 67.9348ZM237.368 67.6288V61.788H240.8C241.954 61.788 243.035 61.6443 244.042 61.3569C245.049 61.0695 245.929 60.6383 246.682 60.0635C247.435 59.4887 248.026 58.7748 248.456 57.9219C248.887 57.0689 249.102 56.0769 249.102 54.9458V54.8902C249.102 53.8889 248.921 52.9757 248.559 52.1505C248.197 51.3254 247.679 50.6162 247.004 50.0228C246.33 49.4295 245.508 48.9705 244.54 48.646C243.572 48.3215 242.472 48.1593 241.24 48.1593H232.851V67.6288H237.368ZM240.947 57.9775H237.368V52.0254H240.859C241.993 52.0254 242.888 52.2757 243.543 52.7764C244.198 53.277 244.526 54.0094 244.526 54.9736V55.0293C244.526 55.8637 244.213 56.5636 243.587 57.1292C242.961 57.6947 242.081 57.9775 240.947 57.9775Z"
              fill="#141414"
            />
          </g>
          <defs>
            <clipPath id="clip0">
              <rect width="249.102" height="72.9969" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </router-link>

      <v-spacer></v-spacer>

      <v-toolbar-items class="nav-menu hidden-sm-and-down">
        <button class="nav-btn" v-for="router in routers" :key="router.index">
          <router-link class="nav-link" v-bind:to="router.link">
            {{ router.name }}
          </router-link>
        </button>
      </v-toolbar-items>

      <v-spacer></v-spacer>

      <!-- Search component
      <v-autocomplete
        class="header-search"
        :search-input.sync="searchTemp"
        :items="searchItems"
        dense
        hide-details
        solo
        v-bind:placeholder="$t('search')"
        :hide-no-data="true"
        @keyup.enter="search"
      >
        <template v-slot:item="{ item }">
          <router-link class="redirect-link" :to="getRouterLink(item) + getID(item)">
            {{ item }}
          </router-link>
        </template>
      </v-autocomplete>
      <v-btn icon class="mr-1" @click="search">
        <v-icon>mdi-magnify</v-icon>
      </v-btn> -->

      <v-menu offset-y content-class="elevation-0" rounded="14">
        <template v-slot:activator="{ on, attrs }">
          <div class="language-setting" v-bind="attrs" v-on="on">
            <country-flag class="flag" :country="flag" />
            <v-icon>mdi-chevron-down</v-icon>
          </div>
        </template>
        <v-list dense>
          <v-list-item-group color="primary" test="language">
            <v-list-item class="pr-2 pl-2">
              <v-list-item-content class="pa-0" @click="changeLang('zh-CN', '中文', 'cn')">
                <div class="language-selection">
                  <country-flag class="flag" country="cn" />
                  <span class="language-text">简体中文</span>
                </div>
              </v-list-item-content>
            </v-list-item>
            <v-list-item class="pr-2 pl-2">
              <v-list-item-content class="pa-0" @click="changeLang('en-US', 'Eng', 'gb')">
                <div class="language-selection">
                  <country-flag class="flag" country="gb" />
                  <span class="language-text">English(UK)</span>
                </div>
              </v-list-item-content>
            </v-list-item>
          </v-list-item-group>
        </v-list>
      </v-menu>
    </v-app-bar>

    <v-navigation-drawer v-model="drawer" absolute temporary>
      <v-list nav dense>
        <v-list-item-group v-model="group" class="navbar" active-class="blue--text font-weight-bold">
          <v-list-item v-for="router in routers" :key="router.index">
            <v-list-item-content>
              <router-link class="nav-link" v-bind:to="router.link">{{ router.name }}</router-link>
            </v-list-item-content>
          </v-list-item>
        </v-list-item-group>
      </v-list>
    </v-navigation-drawer>
  </div>
</template>

<script>
import CountryFlag from 'vue-country-flag';

const projects = require('../data/project');
const jobs = require('../data/career');

export default {
  name: 'HeaderNav',
  data: () => ({
    lang: '中文',
    flag: 'cn',
    drawer: false,
    group: null,
    // search
    searchText: '',
    searchTemp: '',
    searchItems: [],
    jobs,
    projects,
  }),
  props: ['color'],
  components: {
    CountryFlag,
  },
  watch: {
    group() {
      this.drawer = false;
    },
    searchTemp(input) {
      this.searchText = input;
      this.searchItems = [...this.getSearchItems(jobs), ...this.getSearchItems(projects)];
    },
  },
  methods: {
    changeLang(locale, lang, flag) {
      this.$i18n.locale = locale;
      this.lang = lang;
      this.flag = flag;
    },
    search() {
      if (this.searchText !== null && this.searchText.trim() !== '') {
        this.$router.push({ path: '/searchResults', query: { search: this.searchText } });
      }
    },
    // get title
    getSearchItems(arr) {
      const output = [];
      arr.forEach((item) => {
        output.push(item.title);
      });
      return output;
    },
    getRouterLink(searchItemTitle) {
      if (this.getTag(jobs, searchItemTitle) === '职位') {
        return '/recruitmentDetail?id=';
      }
      if (this.getTag(projects, searchItemTitle) === '项目') {
        return '/projectInfo?id=';
      }
      return '/error';
    },
    getTag(arr, searchItemTitle) {
      let tag = '';
      arr.forEach((item) => {
        if (item.title.includes(searchItemTitle)) {
          if (arr === jobs) tag = '职位';
          if (arr === projects) tag = '项目';
        }
      });
      return tag;
    },
    getID(searchItemTitle) {
      const arr = [...jobs, ...projects];
      return arr.find((item) => item.title.includes(searchItemTitle)).id.substring(1);
    },
  },
  computed: {
    routers() {
      return [
        { name: this.$t('navbar.home'), link: '/' },
        { name: this.$t('navbar.projects'), link: '/projectInfo' },
        { name: this.$t('navbar.team'), link: '/teamInfo' },
        { name: this.$t('navbar.recruitment'), link: '/recruitmentInfo' },
        { name: this.$t('navbar.about'), link: '/aboutUs' },
        { name: this.$t('navbar.blog'), link: '/blog' },
      ];
    },
    cssProps() {
      console.log(this.color);
      if (this.color) {
        return { '--themeColor': this.color };
      }
      return { '--themeColor': 'white' };
    },
  },
};
</script>

<style lang="scss" scoped>
.nav-container {
  background-color: rgba(0, 0, 0, 0) !important;
  .nav-menu {
    button {
      padding: 0 16px;
      cursor: default;
      a {
        font-weight: bold;
        text-decoration: none;
        color: var(--themeColor);
        &:hover {
          color: #ffc60d;
        }
      }
    }
  }
  .language-setting {
    display: flex;
    align-self: center;
  }
}

.flag {
  border-radius: 6px;
}

.language-selection {
  display: flex;
  justify-content: left;
  align-items: center;
  .language-text {
    display: inline-block;
    vertical-align: middle;
    line-height: normal;
  }
}

.header-search {
  min-width: 120px;
  width: 8%;
}

.redirect-link {
  text-decoration: none;
  color: black;
  font-size: 14px;
}
</style>
